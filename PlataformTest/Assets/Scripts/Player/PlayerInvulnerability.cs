using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerInvulnerability : SingletonBase<PlayerInvulnerability>
{
    [SerializeField]
    int invulnerability;
    float invulnerabilityTimer;

    protected override void SingletonAwake()
    {
        base.SingletonAwake();
        invulnerabilityTimer = 0;
    }

    private void Awake()
    {
        SingletonAwake();
    }

    void InvulnerabilityActing() 
    {
        invulnerabilityTimer += 1 * Time.deltaTime;
        if (invulnerabilityTimer >= invulnerability) 
        {
            SetActivated(false);
            invulnerabilityTimer = 0;
        }
    }

    protected override void BehaveSingleton()
    {
        if (GetActivated()) 
        {
            InvulnerabilityActing();
        }
    }

    private void Update()
    {
        BehaveSingleton();
    }
}
